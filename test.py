import base64
exec(base64.b64decode("aW1wb3J0IHRpbWUKZnJvbSB0ZWxldGhvbiBpbXBvcnQgVGVsZWdyYW1DbGllbnQsIGV2ZW50cywgc3luYwoKaXBfaWQ9aW5wdXQoIkFQSV9pZCBrb2Rpbmkga2lyaXRpbmc6IikKaXBfaGFzaD1pbnB1dCgiQVBJX2hhc2gga29kaW5pIGtpcml0aW5nOiIpCgphcGlfaWQgPSBpcF9pZAphcGlfaGFzaCA9IGlwX2hhc2gKCgoKY2xpZW50ID0gVGVsZWdyYW1DbGllbnQoJ2Fub24nLCBhcGlfaWQsIGFwaV9oYXNoKQoKCgoKCgoKQGNsaWVudC5vbihldmVudHMuTmV3TWVzc2FnZSkKYXN5bmMgZGVmIG15X2V2ZW50X2hhbmRsZXIoZXZlbnQpOgogICAgaWYgIi50eXBlIiA9PSBldmVudC5yYXdfdGV4dFs6NV06CiAgICAgICAgb3JpZ190ZXh0ID0gZXZlbnQucmF3X3RleHQuc3BsaXQoIi50eXBlICIsIG1heHNwbGl0PTEpWzFdCiAgICAgICAgdGV4dCA9IG9yaWdfdGV4dAogICAgICAgIHBiID0gIiIgCiAgICAgICAgdHlwaW5nX3N5bWJvbCA9ICJ8IgogCiAgICAgICAgd2hpbGUocGIgIT0gb3JpZ190ZXh0KToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgYXdhaXQgZXZlbnQuZWRpdChwYiArIHR5cGluZ19zeW1ib2wpCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCiAKICAgICAgICAgICAgICAgIHBiICs9IHRleHRbMF0KICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0WzE6XQogCiAgICAgICAgICAgICAgICBhd2FpdCBldmVudC5lZGl0KHBiKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjA1KQogCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gIGFzIGU6CiAgICAgICAgICAgICAgICBwcmludChlKQogICAgCQkJCiAgICAJCQkKIAkJCQogICAgCQkJCiAgICAJCQkKICAgIAkJCQpjbGllbnQuc3RhcnQoKQpjbGllbnQucnVuX3VudGlsX2Rpc2Nvbm5lY3RlZCgp"))